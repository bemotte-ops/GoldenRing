ymaps.ready(init);

function init() {
  const map = new ymaps.Map("map", {
    center: [56.8, 39.2],
    zoom: 7,
    controls: ['zoomControl', 'fullscreenControl']
  });

  // Ð¢Ð¾Ñ‡ÐºÐ¸ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð° (Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹, Ð±ÐµÐ· Ð·Ð°ÐµÐ·Ð´Ð° Ð² Ð¿Ð¸Ñ‚Ð¾Ð¼Ð½Ð¸ÐºÐ¸)
  const waypoints = [
    [55.7585, 37.5231],  // ðŸ Ð¡Ñ‚Ð°Ñ€Ñ‚/Ð¤Ð¸Ð½Ð¸Ñˆ: ÐœÐ¾ÑÐºÐ²Ð°, Ð¨ÐµÐ»ÐµÐ¿Ð¸Ñ…Ð¸Ð½ÑÐºÐ°Ñ Ð½Ð°Ð±.
    [56.3012, 38.1341],  // Ð¡ÐµÑ€Ð³Ð¸ÐµÐ² ÐŸÐ¾ÑÐ°Ð´
    [56.7406, 38.8736],  // ÐŸÐµÑ€ÐµÑÐ»Ð°Ð²Ð»ÑŒ
    [57.1917, 39.4167],  // Ð Ð¾ÑÑ‚Ð¾Ð² Ð’ÐµÐ»Ð¸ÐºÐ¸Ð¹
    [57.6299, 39.8739],  // Ð¯Ñ€Ð¾ÑÐ»Ð°Ð²Ð»ÑŒ
    [57.8036, 40.9447],  // ÐšÐ¾ÑÑ‚Ñ€Ð¾Ð¼Ð° (Ð˜Ð¿Ð°Ñ‚ÑŒÐµÐ²ÑÐºÐ¸Ð¹ Ð¼Ð¾Ð½Ð°ÑÑ‚Ñ‹Ñ€ÑŒ)
    // Ð›Ð¾ÑÐ¸Ð½Ñ‹Ð¹ Ð¿Ð¸Ñ‚Ð¾Ð¼Ð½Ð¸Ðº â€” Ð½Ðµ Ð²ÐºÐ»ÑŽÑ‡Ñ‘Ð½ Ð² Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚, Ð½Ð¾ Ð¾Ñ‚Ð¼ÐµÑ‡ÐµÐ½ Ð¼ÐµÑ‚ÐºÐ¾Ð¹
    [56.9990, 40.9715],  // Ð˜Ð²Ð°Ð½Ð¾Ð²Ð¾ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð»Ð¾Ð³Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐ·Ð´Ð°)
    [56.4311, 41.0453],  // Ð¡ÑƒÐ·Ð´Ð°Ð»ÑŒ
    [56.1290, 40.4073],  // Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€
    [55.7585, 37.5231]   // ðŸ Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‚ Ð² ÐœÐ¾ÑÐºÐ²Ñƒ
  ];

  // Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ð¼ÑƒÐ»ÑŒÑ‚Ð¸Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ð¼ Ð³Ð¾Ñ€Ð¾Ð´Ð°Ð¼)
  const multiRoute = new ymaps.multiRouter.MultiRoute({
    referencePoints: waypoints,
    params: {
      routingMode: "auto"
    }
  }, {
    boundsAutoApply: true,
    wayPointVisible: true,
    routeActiveStrokeWidth: 5,
    routeActiveStrokeColor: "#3a7ca5"
  });

  map.geoObjects.add(multiRoute);

  // Ð’ÑÐµ Ð¼ÐµÑ‚ÐºÐ¸ (Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð¿Ð¸Ñ‚Ð¾Ð¼Ð½Ð¸ÐºÐ¸)
  const points = [
    { name: "Ð¡Ñ‚Ð°Ñ€Ñ‚/Ð¤Ð¸Ð½Ð¸Ñˆ: Ð¨ÐµÐ»ÐµÐ¿Ð¸Ñ…Ð¸Ð½ÑÐºÐ°Ñ Ð½Ð°Ð±., 34Ðº5", lat: 55.7585, lng: 37.5231 },
    { name: "Ð¢Ñ€Ð¾Ð¸Ñ†Ðµ-Ð¡ÐµÑ€Ð³Ð¸ÐµÐ²Ð° Ð›Ð°Ð²Ñ€Ð°", lat: 56.3012, lng: 38.1341 },
    { name: "Ð¡Ð¿Ð°ÑÐ¾-ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð¶ÐµÐ½ÑÐºÐ¸Ð¹ ÑÐ¾Ð±Ð¾Ñ€", lat: 56.7406, lng: 38.8736 },
    { name: "Ð Ð¾ÑÑ‚Ð¾Ð²ÑÐºÐ¸Ð¹ ÐºÑ€ÐµÐ¼Ð»ÑŒ", lat: 57.1917, lng: 39.4167 },
    { name: "Ð¡Ð¿Ð°ÑÐ¾-ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð¶ÐµÐ½ÑÐºÐ¸Ð¹ Ð¼Ð¾Ð½Ð°ÑÑ‚Ñ‹Ñ€ÑŒ", lat: 57.6299, lng: 39.8739 },
    { name: "Ð˜Ð¿Ð°Ñ‚ÑŒÐµÐ²ÑÐºÐ¸Ð¹ Ð¼Ð¾Ð½Ð°ÑÑ‚Ñ‹Ñ€ÑŒ", lat: 57.8036, lng: 40.9447 },
    { name: "Ð›Ð¾ÑÐ¸Ð½Ñ‹Ð¹ Ð¿Ð¸Ñ‚Ð¾Ð¼Ð½Ð¸Ðº Â«ÐÐ½Ð´Ñ€ÐµÐµÐ²ÑÐºÐ¾ÐµÂ»", lat: 57.8153, lng: 41.0001 },
    { name: "Ð¡ÑƒÐ·Ð´Ð°Ð»ÑŒ", lat: 56.4311, lng: 41.0453 },
    { name: "Ð—Ð¾Ð»Ð¾Ñ‚Ñ‹Ðµ Ð’Ð¾Ñ€Ð¾Ñ‚Ð°", lat: 56.1290, lng: 40.4073 },
    { name: "Ð­ÐºÐ¾Ð·Ð¾Ð½Ð° Â«Ð›ÐµÑÐ½Ð°Ñ ÑÐºÐ°Ð·ÐºÐ°Â»", lat: 56.0845, lng: 40.4823 }
  ];

  // Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð²ÑÐµ Ð¼ÐµÑ‚ÐºÐ¸
  points.forEach(p => {
    const placemark = new ymaps.Placemark([p.lat, p.lng], {
      balloonContent: `<b>${p.name}</b>`,
      hintContent: p.name
    }, {
      preset: 'islands#violetDotIconWithCaption',
      iconCaption: ''
    });
    map.geoObjects.add(placemark);
  });
}
